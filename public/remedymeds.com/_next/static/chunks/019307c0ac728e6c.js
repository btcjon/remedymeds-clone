;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="483cb8ad-4e1f-b7f0-0a43-9afe7920cb56")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,765578,e=>{"use strict";var t=e.i(149414),r=e.i(112188),n=e.i(126377);let i=n.forwardRef(function({title:e,titleId:t,...r},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))});var s=e.i(894182),a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(Boolean).join(" ")},u=function(e,t){for(var r=[],n=e;n<t;n+=1)r.push(n);return r},o=function(e,t){for(var r=[],n=e;n!==t;)r.push(n),10===(n+=1)&&(n=0);return r},c=function(e,t){return Math.floor(Math.random()*(t-e)+e)},d=function(e){for(var t,r=function(e,t,r){for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}([],e,0),n=r.length-1;n>0;n-=1){var i=Math.floor(Math.random()*(n+1));t=[r[i],r[n]],r[n]=t[0],r[i]=t[1]}return r},h=function(e){return"number"==typeof e?e:(Array.isArray(e)?e.join(""):e).replace(/[,.]/g,"")},f=function(e){return"object"!=typeof e&&!Number.isNaN(h(e))},p=function(e){return"object"==typeof e},m="index-module_num__j6XH3";!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===r&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".index-module_slot_wrap__ZT-DX {\n  display: inline-block;\n  white-space: nowrap;\n}\n\n.index-module_slot__DpPgW {\n  display: inline-block;\n  overflow: hidden;\n  text-align: center;\n  vertical-align: middle;\n  will-change: transform;\n}\n\n.index-module_separator__7GhtE {\n  display: inline-block;\n  vertical-align: middle;\n  text-align: center;\n}\n\n.index-module_numbers__sqlqm {\n  display: block;\n}\n\n.index-module_num__j6XH3 {\n  display: block;\n}");var y="undefined"!=typeof window?n.default.useLayoutEffect:n.default.useEffect,v=(0,n.memo)(function(e){var t,r,i=e.isNew,s=e.charClassName,u=e.numbersRef,o=e.active,c=e.isChanged,h=e.effectiveDuration,f=e.delay,p=e.value,v=e.startValue,g=e.disableStartValue,b=e.dummyList,x=e.hasSequentialDummyList,S=e.hasInfiniteList,w=e.valueClassName,R=e.numberSlotClassName,M=e.numberClassName,j=e.reverse,C=e.sequentialAnimationMode,O=e.useMonospaceWidth,E=e.maxNumberWidth,N=e.onFontHeightChange,_=(0,n.useState)(!1),k=_[0],I=_[1],T=(0,n.useState)(p),A=T[0],P=T[1],Q=(0,n.useRef)(),D=(0,n.useRef)(p),q=(0,n.useRef)(null),F=(0,n.useState)(0),L=F[0],U=F[1],z=(0,n.useState)(x?b:d(b)),$=z[0],B=z[1],W=(0,n.useState)(!1),K=W[0],H=W[1],V=L*(b.length+1);y(function(){H(!0)},[]),y(function(){var e,t;U(null!=(t=null==(e=q.current)?void 0:e.getBoundingClientRect().height)?t:0)},[K]),(0,n.useEffect)(function(){o?requestAnimationFrame(function(){I(o)}):I(o)},[o]),(0,n.useEffect)(function(){var e=q.current;if(L&&e&&"undefined"!=typeof ResizeObserver){var t=new ResizeObserver(function(e){var t=e[0].contentRect.height;L!=t&&(null==N||N(t))});return t.observe(e),function(){t.disconnect()}}},[L,N]),(0,n.useMemo)(function(){g&&(Q.current=D.current)},[g]),(0,n.useEffect)(function(){k&&(Q.current=D.current,D.current=p,setTimeout(function(){return P(p)},C?0:1e3*h*1.3/b.length+1e3*f))},[k,p,h,f,b.length,C]),(0,n.useEffect)(function(){B(x?b:d(b))},[p,b,x]);var G=function(){return $.map(function(e,t){return n.default.createElement("span",{key:t,className:l(m,M),"aria-hidden":"true"},e)})},X=j?A:null!=v?v:A;C&&(X=j?A:null!=(t=null!=v?v:Q.current)?t:A,C&&i&&!j&&(X=""));var Y=j&&null!=v?v:A;return C&&(Y=j&&null!=(r=null!=v?v:Q.current)?r:A),n.default.createElement("span",{className:l("index-module_slot__DpPgW",s),style:{display:"inline-block",width:K&&O?E:void 0,height:K?L:void 0}},n.default.createElement("span",{ref:u,className:l("index-module_numbers__sqlqm",R),style:a({transition:"none",transform:j?"translateY(-".concat(V,"px)"):"translateY(0px)"},k&&c&&{transform:j?"translateY(0px)":"translateY(-".concat(V,"px)"),transition:"transform ".concat(h,"s ").concat(f,"s ease-in-out")})},K?n.default.createElement(n.default.Fragment,null,n.default.createElement("span",{className:l(m,M),"aria-hidden":"true",style:{height:L}},X),G(),n.default.createElement("span",{className:l(m,M,w),ref:q},Y),S?G():null):n.default.createElement("span",{className:l(m,M),"aria-hidden":"true"},null!=v?v:A)))}),g=[",","."," "],b=/\u0020/,x=/\u00A0/,S=/\u202F/,w=(0,n.memo)((0,n.forwardRef)(function(e,t){var r,i,s,a,d,m,w,R,M,j,C,O,E,N,_,k,I,T,A,P=e.value,Q=e.startValue,D=e.startValueOnce,q=void 0!==D&&D,F=e.duration,L=e.dummyCharacters,U=e.dummyCharacterCount,z=e.autoAnimationStart,$=e.containerClassName,B=e.charClassName,W=e.separatorClassName,K=e.valueClassName,H=e.numberSlotClassName,V=e.numberClassName,G=e.animateUnchanged,X=void 0!==G&&G,Y=e.hasInfiniteList,J=void 0!==Y&&Y,Z=e.sequentialAnimationMode,ee=void 0!==Z&&Z,et=e.useMonospaceWidth,er=void 0!==et&&et,en=e.direction,ei=e.debounceDelay,es=e.animateOnVisible,ea=(m=null!=ei?ei:0,R=(w=(0,n.useState)(P))[0],M=w[1],(0,n.useEffect)(function(){if(0===m)return M(P);var e=setTimeout(function(){M(P)},m);return function(){clearTimeout(e)}},[P,m]),R),el=(0,n.useMemo)(function(){return Array.isArray(ea)&&p(ea[0])?"":"object"==typeof ea?JSON.stringify(ea):ea.toString()},[ea]),eu=(0,n.useState)(!1),eo=eu[0],ec=eu[1],ed=(0,n.useRef)(),eh=(0,n.useRef)(null),ef=(0,n.useRef)(null),ep=(0,n.useRef)(Q),em=(0,n.useMemo)(function(){return"boolean"==typeof es?es:"object"==typeof es||void 0},[es]),ey=(0,n.useMemo)(function(){return"object"==typeof es?es.rootMargin:void 0},[es]),ev=(0,n.useMemo)(function(){return"object"==typeof es?es.triggerOnce:void 0},[es]),eg=(0,n.useRef)(!0),eb=!em&&(void 0===z||z),ex=(0,n.useRef)(null==Q||eb?ea:Q),eS=(0,n.useRef)(Q),ew=(0,n.useRef)(0),eR=(0,n.useRef)(0),eM=(0,n.useState)([]),ej=eM[0],eC=eM[1],eO=(0,n.useRef)(),eE=(0,n.useState)(0),eN=eE[0],e_=eE[1],ek=(0,n.useState)(),eI=ek[0],eT=ek[1],eA=(0,n.useRef)(!1),eP=null!=Q&&(!q||ew.current<1),eQ=null!=(C=null==(j=ed.current)?void 0:j.dummyCharacterCount)?C:void 0===U?6:U,eD=null!=(E=null==(O=ed.current)?void 0:O.duration)?E:void 0===F?.7:F,eq=(0,n.useCallback)(function(){var e=ef.current;if(e){var t=u(0,10).map(function(t){var r=document.createElement("span");r.className=null!=K?K:"",r.style.position="absolute",r.style.top="0",r.style.left="-9999px",r.style.visibility="hidden",r.textContent=t.toString(),e.appendChild(r);var n=r.getBoundingClientRect().width;return e.removeChild(r),n});eT(Math.max.apply(Math,t))}},[K]);y(function(){var e;eq(),null==(e=document.fonts)||e.ready.then(function(){eq()})},[]),(0,n.useEffect)(function(){eC(u(0,eQ-1).map(function(e){if(!L)return c(0,10);var t=e>=L.length?c(0,L.length):e;return L[t]}))},[L,eQ]),ex.current!==ea&&eA.current&&eR.current>0&&(eS.current=ex.current,ex.current=ea);var eF=Array.isArray(eS.current)?eS.current:null!=(_=null==(N=eS.current)?void 0:N.toString().split(""))?_:[],eL=Array.isArray(ex.current)?ex.current:null!=(I=null==(k=ex.current)?void 0:k.toString().split(""))?I:[],eU=Array.isArray(ep.current)?ep.current:null!=(A=null==(T=ep.current)?void 0:T.toString().split(""))?A:[],ez=(0,n.useMemo)(function(){return Array.isArray(ea)?ea:null==ea?void 0:ea.toString().split("")},[ea]),e$=(0,n.useMemo)(function(){return Array.isArray(Q)?Q:null==Q?void 0:Q.toString().split("")},[Q]),eB=eF.length!==eL.length,eW=[];eL.forEach(function(e,t){var r=eL.length-t-1,n=eP?eU:eF;(eL[r]!==n[r]||eB||X)&&eW.push(r)}),eW.reverse();var eK=(0,n.useMemo)(function(){return Math.min(.1,eD/ez.length)},[eD,ez.length]),eH=(0,n.useCallback)(function(){eO.current&&clearTimeout(eO.current),ec(!1),ew.current=eR.current,ew.current+=1,eO.current=setTimeout(function(){eR.current+=1,ec(!0)},20)},[]),eV=(0,n.useCallback)(function(e){var t=eP?Q:eS.current;if(null==t||!f(t)||!f(ea))return[];var r=t.toString().length,n=ea.toString().length,i=Math.abs(r-n),s=Number(h(t.toString())),a=Number(h(ea.toString())),l=Number(s.toString()[r<n?-i+e:i+e]||0),u=Number(a.toString()[e]||0);return u===l?[]:s<a?o((l+1)%10,u):o((u+1)%10,l)},[eP,ea,Q]),eG=(0,n.useCallback)(function(){e_(function(e){return e+1}),eq()},[eq]);(0,n.useEffect)(function(){(eA.current||null!=eS.current)&&(eA.current||null==ep.current)&&(eA.current||eb)&&eH()},[el,eH,eb]),(0,n.useEffect)(function(){eb&&eH()},[eb,eH]),(0,n.useEffect)(function(){requestAnimationFrame(function(){eA.current=!0})},[]),(0,n.useImperativeHandle)(t,function(){return{startAnimation:e4,refreshStyles:eG}});var eX=null==Q||eb||0!==ew.current?ez:e$||[],eY=((null==e$?void 0:e$.length)||0)-eX.length,eJ=(i=(0,n.useRef)(eX),s=(0,n.useRef)(i.current),a=eX.join(","),d=null==(r=i.current)?void 0:r.join(","),(0,n.useEffect)(function(){d!==a&&(s.current=(null==d?void 0:d.split(","))||[],i.current=a.split(","))},[a,d]),{getPrevDependencies:(0,n.useCallback)(function(){return s.current},[]),setPrevDependenciesToSameAsCurrent:(0,n.useCallback)(function(){s.current=i.current},[])}),eZ=eJ.getPrevDependencies,e0=eJ.setPrevDependenciesToSameAsCurrent,e1=eX.length-eZ().length,e4=(0,n.useCallback)(function(e){null==Q||q||(eS.current=void 0),ed.current=e,eH(),e0()},[Q,q,eH,e0]),e2=(0,n.useMemo)(function(){var e,t;return e=function(){eG()},function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];clearTimeout(t),t=setTimeout(function(){e.apply(void 0,r)},0)}},[eG]);(0,n.useEffect)(function(){if(em&&eh.current){var e=new IntersectionObserver(function(r){r[0].isIntersecting&&eg.current&&(e4(),eg.current=!1,ev&&(e.disconnect(),t.disconnect()))},{rootMargin:ey,threshold:1}),t=new IntersectionObserver(function(e){e[0].isIntersecting||(eg.current=!0)},{threshold:0});return e.observe(eh.current),t.observe(eh.current),function(){e.disconnect(),t.disconnect()}}},[em,ey,ev,e4]);var e3=-1;return n.default.createElement("span",{key:eN,ref:eh,className:l($,"index-module_slot_wrap__ZT-DX")},eX.map(function(e,t){var r,i,s=eW.includes(t),a=(s?eW.indexOf(t):0)*eK,u=eS.current,o=null!=Q&&!!q&&ew.current>1,c=null!=ea&&null!=u&&f(ea)&&f(u)&&h(ea)<h(u);if((null==(r=ed.current)?void 0:r.direction)&&(c="top-down"===(null==(i=ed.current)?void 0:i.direction)),en&&(c="top-down"===en),!p(e)&&(g.includes(e)||b.test(e)||x.test(e)||S.test(e)))return n.default.createElement("span",{key:eL.length-t-1,className:l("index-module_separator__7GhtE",W)},e);var d=ee&&(!eb||eR.current>1);return e3+=1,n.default.createElement(v,{key:eX.length-t-1,index:t,isNew:e1>0&&t<e1,maxNumberWidth:eI,numbersRef:ef,active:eo,isChanged:s,charClassName:B,effectiveDuration:eD,delay:a,value:e,startValue:o||null==e$?void 0:e$[t+eY],disableStartValue:o,dummyList:d?eV(e3):ej,hasSequentialDummyList:d,hasInfiniteList:J,valueClassName:K,numberSlotClassName:H,numberClassName:V,reverse:c,sequentialAnimationMode:ee,useMonospaceWidth:er,onFontHeightChange:e2})}))})),R=e.i(275754),M=e.i(48100);function j({weight:e=0,height:n=0,precision:a}){let l=(0,R.calculateBmi)(e,n,a),u=Math.min(Math.max((l-18)/12*100,0),100),o=l.toFixed(1),c=(0,s.useTranslations)("IntakeQuiz.questions.heightAndWeight");return(0,t.jsxs)(r.Stack,{spacing:"md",className:"text-center",children:[(0,t.jsx)("p",{className:"text-slate-600",children:c("yourBmi")}),(0,t.jsx)(M.Title,{children:(0,t.jsx)(w,{value:o})}),(0,t.jsx)(C,{percentage:u}),(0,R.isBetween)(l,.01,21.99)&&(0,t.jsxs)("div",{className:"p-2 mt-3 bg-yellow-100 text-yellow-950 rounded border border-yellow-200 text-sm",children:[(0,t.jsx)(i,{className:"w-7 h-7 inline text-orange-500 ml-2 mr-4"}),c.rich("bmiWarning",{value:o,b:e=>(0,t.jsx)("strong",{children:e})})]})]})}let C=function({percentage:e}){return(0,t.jsx)("div",{className:"relative h-4 w-full rounded-full bg-gradient-to-r from-yellow-500 from-10% via-green-500 via-40% to-red-500 to-90%",children:(0,t.jsx)("div",{className:"h-5 w-5 outline outline-slate-950/10 shadow-md absolute rounded-full bg-white transition-all dark:bg-slate-50 -translate-x-1/2 -translate-y-1/2 top-1/2",style:{left:`${e}%`}})})};e.s(["BMIVisualization",()=>j],765578)},815549,e=>{"use strict";var t=e.i(149414),r=e.i(112188),n=e.i(748970),i=e.i(557960),s=e.i(654392),a=e.i(673885),l=e.i(218960);let u=(0,l.default)("outline","math-symbols","MathSymbols",[["path",{d:"M3 12l18 0",key:"svg-0"}],["path",{d:"M12 3l0 18",key:"svg-1"}],["path",{d:"M16.5 4.5l3 3",key:"svg-2"}],["path",{d:"M19.5 4.5l-3 3",key:"svg-3"}],["path",{d:"M6 4l0 4",key:"svg-4"}],["path",{d:"M4 6l4 0",key:"svg-5"}],["path",{d:"M18 16l.01 0",key:"svg-6"}],["path",{d:"M18 20l.01 0",key:"svg-7"}],["path",{d:"M4 18l4 0",key:"svg-8"}]]),o=(0,l.default)("outline","ruler-2","Ruler2",[["path",{d:"M17 3l4 4l-14 14l-4 -4z",key:"svg-0"}],["path",{d:"M16 7l-1.5 -1.5",key:"svg-1"}],["path",{d:"M13 10l-1.5 -1.5",key:"svg-2"}],["path",{d:"M10 13l-1.5 -1.5",key:"svg-3"}],["path",{d:"M7 16l-1.5 -1.5",key:"svg-4"}]]),c=(0,l.default)("outline","scale","Scale",[["path",{d:"M7 20l10 0",key:"svg-0"}],["path",{d:"M6 6l6 -1l6 1",key:"svg-1"}],["path",{d:"M12 3l0 17",key:"svg-2"}],["path",{d:"M9 12l-3 -6l-3 6a3 3 0 0 0 6 0",key:"svg-3"}],["path",{d:"M21 12l-3 -6l-3 6a3 3 0 0 0 6 0",key:"svg-4"}]]);var d=e.i(701532),h=e.i(894182),f=e.i(421450),p=e.i(126377),m=e.i(945310),y=e.i(647657),v=e.i(756585),g=e.i(518070),b=e.i(807703);function x({children:e,transition:r,delay:n=2e3}){let[i,s]=(0,p.useState)(0),a=(0,p.useMemo)(()=>e[i],[i,e]);return(0,p.useEffect)(()=>{let t=setInterval(()=>s(t=>(t+1)%e.length),n);return()=>clearInterval(t)},[n]),(0,t.jsx)(g.AnimatePresence,{children:(0,t.jsx)(b.motion.div,{className:"relative",initial:{opacity:0},animate:{opacity:1},transition:r||{duration:1,ease:"easeInOut"},children:a},i)})}x.Item=({children:e})=>(0,t.jsx)(t.Fragment,{children:e});let S={qualifying_screen_a:1e4,qualifying_screen_b:1e4,qualifying_screen_c:0,qualifying_screen_d:7e3};function w({variant:e,onFinish:a}){let l=e?S[e]:2e4,[f,g]=(0,p.useState)(0),b="primehealth"===s.default.brand&&(0,m.isMetaPrimehealthUICampaign)(d.default.get(y.UTM_CAMPAIGN)),w=(0,h.useTranslations)("IntakeQuiz.qualifyingSlides"),M=(0,p.useMemo)(()=>[{title:w("recalibrateMetabolism"),index:0},{title:w("geneticWeightGain"),index:1},{title:w("fixRootProblem"),index:2},{title:w("personalizedWeightLoss",{brand:s.default.title}),index:3},{title:w("careTeamAccess"),index:4},{title:w("safeAndEffective"),index:5},{title:w("usBasedShipping"),index:6}],[w]),j="Hang tight â€“ we're estimating your personalized weight loss estimate.",C=[{text:"Validating your Height",icon:o},{text:"Validating your Weight",icon:c},{text:"Calculation based on clinical data",icon:u}],O=(0,p.useMemo)(()=>{if("qualifying_screen_d"===e)return[{title:j,index:0}];let t={qualifying_screen_a:{start:0,end:3},qualifying_screen_b:{start:3,end:6},qualifying_screen_d:null}[e];return t?M.slice(t.start,t.end):M},[M,e,j]),E=l/O.length,[N,_]=(0,p.useState)(0);return(0,p.useEffect)(()=>{let t;if("qualifying_screen_d"===e){let e=2*C.length+1;t=setInterval(()=>{_(r=>{let n=r+1;return g(n/e*100),n>=e&&clearInterval(t),Math.min(n,e)})},l/e)}else t=setInterval(()=>{g(e=>{let t=e+100/O.length;return t>=100?100:t})},E);return()=>{t&&clearInterval(t)}},[l,O.length,e,C.length,E]),(0,p.useEffect)(()=>{f>=100&&a&&a()},[f]),(0,t.jsxs)(r.Stack,{children:[(0,t.jsx)(i.Text,{className:"text-center text-lg text-inherit",children:w("title")}),(0,t.jsx)(v.Progress,{value:f,className:"w-[80%] mx-auto mb-8"}),(0,t.jsx)("div",{className:"flex items-start justify-center py-4",children:(0,t.jsx)(x,{delay:E,children:O.map(({title:r,index:i})=>(0,t.jsxs)(x.Item,{children:[(0,t.jsx)(n.TitleStack,{title:r,order:1,size:"sm",className:"text-center max-w-[500px] mx-auto text-inherit"}),(0,t.jsx)(R,{variant:e,step:N,variantDMessages:C,index:i,isMetaPrimehealthUITraffic:b})]},i))})})]})}function R({variant:e,step:r,variantDMessages:n,index:i,isMetaPrimehealthUITraffic:a}){if("qualifying_screen_d"===e){let e=Math.floor(r/2),i=Math.floor((r-1)/2),s=n?.slice(0,e);return(0,t.jsx)("div",{className:"mt-6 space-y-3",children:s?.map(({text:e,icon:r},n)=>(0,t.jsx)(M,{text:e,checked:n<i,customIcon:r},`${e}-${n}`))})}return(0,t.jsx)(f.default,{width:1024,height:1024,src:`/${s.default.folder}/slides/${a?"rm-style/":""}slide-${i+1}.png`,alt:`Image ${i}`,className:"w-full h-full mx-auto max-w-[548px] max-h-[312px] object-contain mt-8"})}function M({text:e,checked:r,customIcon:n}){return(0,t.jsxs)("div",{className:"flex flex-row bg-stone-300 p-2 px-4 rounded-2xl max-w-xl mx-auto items-center transition-all duration-300",children:[(0,t.jsx)(n,{className:"pr-2 text-black size-6"}),(0,t.jsx)(i.Text,{className:"text-black font-medium text-lg",children:e}),r&&(0,t.jsx)(a.IconCheck,{className:"pl-2 text-black size-6"})]})}e.s(["DEFAULT_QUALIFYING_DURATION_MS",0,2e4,"QualifyingSlides",()=>w],815549)},673885,e=>{"use strict";let t=(0,e.i(218960).default)("outline","check","Check",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);e.s(["IconCheck",()=>t],673885)},756585,e=>{"use strict";var t=e.i(149414),r=e.i(197769),n=e.i(126377);e.i(118297);var i=e.i(391562),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let s=(0,i.createSlot)(`Primitive.${r}`),a=n.forwardRef((e,n)=>{let{asChild:i,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(i?s:r,{...a,ref:n})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{}),a="Progress",[l,u]=function(e,r=[]){let i=[],s=()=>{let t=i.map(e=>n.createContext(e));return function(r){let i=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:i}}),[r,i])}};return s.scopeName=e,[function(r,s){let a=n.createContext(s);a.displayName=r+"Context";let l=i.length;i=[...i,s];let u=r=>{let{scope:i,children:s,...u}=r,o=i?.[e]?.[l]||a,c=n.useMemo(()=>u,Object.values(u));return(0,t.jsx)(o.Provider,{value:c,children:s})};return u.displayName=r+"Provider",[u,function(t,i){let u=i?.[e]?.[l]||a,o=n.useContext(u);if(o)return o;if(void 0!==s)return s;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=r.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}(s,...r)]}(a),[o,c]=l(a),d=n.forwardRef((e,r)=>{var n,i;let{__scopeProgress:a,value:l=null,max:u,getValueLabel:c=p,...d}=e;(u||0===u)&&!v(u)&&console.error((n=`${u}`,`Invalid prop \`max\` of value \`${n}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let h=v(u)?u:100;null===l||g(l,h)||console.error((i=`${l}`,`Invalid prop \`value\` of value \`${i}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let f=g(l,h)?l:null,b=y(f)?c(f,h):void 0;return(0,t.jsx)(o,{scope:a,value:f,max:h,children:(0,t.jsx)(s.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":y(f)?f:void 0,"aria-valuetext":b,role:"progressbar","data-state":m(f,h),"data-value":f??void 0,"data-max":h,...d,ref:r})})});d.displayName=a;var h="ProgressIndicator",f=n.forwardRef((e,r)=>{let{__scopeProgress:n,...i}=e,a=c(h,n);return(0,t.jsx)(s.div,{"data-state":m(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...i,ref:r})});function p(e,t){return`${Math.round(e/t*100)}%`}function m(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function y(e){return"number"==typeof e}function v(e){return y(e)&&!isNaN(e)&&e>0}function g(e,t){return y(e)&&!isNaN(e)&&e<=t&&e>=0}f.displayName=h;let b=n.forwardRef(({className:e,value:n,indicatorClassName:i,...s},a)=>(0,t.jsx)(d,{ref:a,className:(0,r.cn)("relative h-4 w-full overflow-hidden rounded-full bg-foreground/10",e),value:n,...s,children:(0,t.jsx)(f,{className:(0,r.cn)("h-full w-full flex-1 transition-all rounded-full bg-foreground",i),style:{transform:`translateX(-${100-(n||1)}%)`}})}));b.displayName=d.displayName,e.s(["Progress",()=>b],756585)},523651,e=>{"use strict";var t=e.i(126377),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=t.default.createContext&&t.default.createContext(r),i=["attr","size","title"];function s(){return(s=Object.assign.bind()).apply(this,arguments)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n,i,s;n=e,i=t,s=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[i]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){return r=>t.default.createElement(o,s({attr:l({},e.attr)},r),function e(r){return r&&r.map((r,n)=>t.default.createElement(r.tag,l({key:n},r.attr),e(r.child)))}(e.child))}function o(e){var a=r=>{var n,{attr:a,size:u,title:o}=e,c=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,i),d=u||r.size||"1em";return r.className&&(n=r.className),e.className&&(n=(n?n+" ":"")+e.className),t.default.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,c,{className:n,style:l(l({color:e.color||r.color},r.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&t.default.createElement("title",null,o),e.children)};return void 0!==n?t.default.createElement(n.Consumer,null,e=>a(e)):a(r)}e.s(["GenIcon",()=>u],523651)},552300,e=>{"use strict";var t=e.i(149414),r=e.i(197769),n=e.i(834965),i=e.i(403160);function s({label:e,boldLabel:i=!0,position:s="center",subtitle:a,icon:l,rightSection:u,children:o,leftSectionClassName:c,...d}){return(0,t.jsxs)(n.Group,{position:s,...d,children:[(0,t.jsxs)(n.Group,{position:s,className:(0,r.cn)("flex-grow",c),children:[l,(0,t.jsxs)("div",{children:[e&&(0,t.jsx)("div",{className:i?"font-semibold":"",children:e}),a&&(0,t.jsx)("div",{className:"text-foreground/80 text-sm",children:a}),o]})]}),u]})}s.Skeleton=()=>(0,t.jsxs)(n.Group,{position:"center",children:[(0,t.jsx)(i.Skeleton,{className:"h-8 w-8"}),(0,t.jsxs)("div",{className:"flex-grow space-y-2",children:[(0,t.jsx)(i.Skeleton,{className:"h-4 w-1/2"}),(0,t.jsx)(i.Skeleton,{className:"h-3 w-1/4"})]})]}),e.s(["NavItem",()=>s])},646970,e=>{"use strict";var t=e.i(208618),r=e.i(692168),n=class extends t.QueryObserver{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:(0,r.infiniteQueryBehavior)()})}getOptimisticResult(e){return e.behavior=(0,r.infiniteQueryBehavior)(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){let{state:n}=e,i=super.createResult(e,t),{isFetching:s,isRefetching:a,isError:l,isRefetchError:u}=i,o=n.fetchMeta?.fetchMore?.direction,c=l&&"forward"===o,d=s&&"forward"===o,h=l&&"backward"===o,f=s&&"backward"===o;return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,r.hasNextPage)(t,n.data),hasPreviousPage:(0,r.hasPreviousPage)(t,n.data),isFetchNextPageError:c,isFetchingNextPage:d,isFetchPreviousPageError:h,isFetchingPreviousPage:f,isRefetchError:u&&!c&&!h,isRefetching:a&&!d&&!f}}},i=e.i(567468);function s(e,t){return(0,i.useBaseQuery)(e,n,t)}e.s(["useInfiniteQuery",()=>s],646970)},832476,e=>{"use strict";var t=e.i(149414),r=e.i(112188),n=e.i(748970),i=e.i(786569),s=e.i(196955),a=e.i(408638),l=e.i(596404),u=e.i(861452),o=e.i(653095),c=e.i(94018),d=e.i(993172),h=e.i(275754);function f({completing:e,targetUSState:f,hideCancelButton:p,onSyncAppointmentScheduled:m,type:y="Intake"}){let{execute:v,isPending:g}=(0,c.useServerAction)(a.cancelAccount);async function b(){try{let[e,t]=await v({type:"cancellation",cancellation_reason:"Don't want to change my subscription",unsatisfied_reason:"other",weight_lost:0,weight_goal:0,feedback:"Don't want to change my subscription",redeemed_coupon_codes:[]});if(t)throw Error("Failed to cancel account");d.telemetry.track("REFILL_REQUEST.CANCELLATION_REQUESTED"),u.toast.success("Account cancellation requested"),m(!1)}catch(t){let e=(0,h.ensureError)(t);u.toast.error(e.message)}}return(0,o.match)(e).with(!0,()=>(0,t.jsx)(n.TitleStack,{order:3,size:"md",title:"Just a moment...",subtitle:"Please wait while we complete your prescription refill.",className:"text-center",children:(0,t.jsx)(s.Spinner,{isVisible:!0,className:"mx-auto"})})).otherwise(()=>(0,t.jsx)(r.Stack,{spacing:"lg",children:(0,t.jsx)(l.ScheduleAppointment,{appointmentType:y,withAppointmentTypes:!1,onAppointmentScheduled:()=>{d.telemetry.track("REFILL_REQUEST.APPOINTMENT_SCHEDULED"),u.toast.success("Appointment scheduled"),m(!0)},footer:!p&&(0,t.jsx)(i.Button,{isLoading:g,variant:"light",size:"lg",fullWidth:!0,className:"uppercase",onClick:b,children:"No - Please cancel my subscription & shipments"})})}))}e.s(["SyncRefillAppointment",()=>f])},596404,e=>{"use strict";var t=e.i(149414);e.i(805397);var r=e.i(786569),n=e.i(112188),i=e.i(867617),s=e.i(671352),a=e.i(318657),l=e.i(339155),u=e.i(196527),o=e.i(275754),c=e.i(595439),d=e.i(841073),h=e.i(126377),f=e.i(861452),p=e.i(257860);let m=["Intake","Refill","Consultation"],y={Intake:"Appointment related to the intake quiz - typically your first appointment ",Refill:"Appointment related to refills",Consultation:(0,t.jsxs)(t.Fragment,{children:["Ad hoc appointment to clarify questions/concerns with a Registered Nurse",(0,t.jsx)("br",{}),"(Side effects, dosing inquiries, injection administration, lifestyle concerns)"]})};function v({appointmentType:e="Intake",callToAction:v="Schedule Appointment",withAppointmentTypes:g=!0,redirectUrl:b,targetUSState:x,beforeAppointmentSchedule:S,onAppointmentScheduled:w,disabled:R,onError:M,footer:j}){let{user:C}=(0,c.useUser)(),[O,E]=(0,h.useState)(null),[N,_]=(0,h.useState)(new Date),[k,I]=(0,h.useState)(new Date),[T,A]=(0,h.useState)(e),[P,Q]=(0,h.useState)(null),D=C.timezone,q=(0,l.getFullStateName)(x||C?.state||"Unknown"),{data:F,isLoading:L,error:U}=(0,u.useListAvailableDays)({input:{month:k.toISOString(),timezone:D,state:q,appointmentType:T}}),{data:z,isLoading:$,error:B,refetch:W,isRefetching:K}=(0,u.useListTimeSlots)({input:{date:N.toISOString(),timezone:D,state:q,appointmentType:T}}),{push:H,isPending:V}=(0,a.useAsyncRouter)(),{mutate:G,isPending:X,error:Y}=(0,u.useScheduleAppointmentMutation)(async()=>{w&&await w(),b&&H(b)}),J=(0,h.useMemo)(()=>(0,o.arrayDaysInMonth)(k).filter(e=>!F?.includes(e)),[k,F]),Z=L||$||K;(0,h.useEffect)(()=>{(B||U||Y)&&E(Y||B||U)},[B,U,Y]),(0,h.useEffect)(()=>{O&&(f.toast.error(O.message),M?.(O),W())},[O]);let ee=(0,h.useMemo)(()=>z&&P?z.find(e=>e.startDateTime===P):null,[P]);return(0,t.jsxs)(n.Stack,{children:[g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.SelectInput,{onChange:A,options:m.map(e=>({label:e,value:e})),defaultValue:T}),(0,t.jsx)(s.Alert,{variant:"warning",children:y[T]})]}),(0,t.jsx)(p.AppointmentPicker,{date:N,loading:Z,onDateChange:_,onMonthChange:I,onSetAppointment:Q,loadingForm:Z,disabledDays:J,timezone:D,slots:z?z.map((e,t)=>({key:`slot_${t}`,dateIso:e.startDateTime})):[]}),(0,t.jsx)(r.Button,{isLoading:X||V,disabled:Z||!ee||R,size:"xl",rightIcon:(0,t.jsx)(d.ArrowRight,{}),onClick:async()=>{ee?(S&&await S(),G({input:{timeSlot:{start_date_time:ee.startDateTime,provider_vendor_id:ee.providerVendorId,length:ee.length,appointment_type_id:ee.appointmentTypeId}}})):E(Error("Please select a time slot"))},children:v}),j]})}e.s(["ScheduleAppointment",()=>v])},257860,e=>{"use strict";var t=e.i(149414),r=e.i(867617),n=e.i(403160),i=e.i(196955),s=e.i(557960),a=e.i(644791),l=e.i(653095),u=e.i(730868),o=e.i(838131);function c({date:e,disabledDays:c,loading:d,loadingForm:h,slots:f,slot:p,onSetAppointment:m,onMonthChange:y,onDateChange:v,timezone:g}){let b=g&&(0,o.getIntlTimezone)()!==g?"h:mm A z":"h:mm A",x=new Date;return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:`grid grid-cols-1 lg:grid-cols-2 gap-4 ${h?"opacity-50 pointer-events-none":""}`,children:[(0,t.jsx)(u.DatePicker,{date:e,loading:d,fromDate:x,disabled:c.map(e=>(0,a.default)(e).toDate()),onMonthChange:y,onDateChange:v}),(0,l.match)({loading:d,slots:f}).with({loading:!0},()=>(0,t.jsx)(n.Skeleton,{className:"w-full h-12 rounded-md"})).with({slots:[]},()=>(0,t.jsx)(s.Text,{className:"text-center px-4 py-3 rounded bg-gray-50 text-gray-600",children:"No slots available"})).otherwise(()=>(0,t.jsx)(r.SelectInput,{"data-testid":"input-slots",placeholder:"Select a time",onChange:m,value:p,options:f.map(({dateIso:e,key:t})=>({key:t,value:e,label:(0,a.default)(e).tz(g).format(b)}))}))]}),h&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)(i.Spinner,{size:12})})]})}e.s(["AppointmentPicker",()=>c])},393077,e=>{"use strict";let t=(0,e.i(475943).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],393077)},363716,e=>{"use strict";let t=(0,e.i(475943).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["default",()=>t])},191152,e=>{"use strict";var t=e.i(363716);e.s(["Calendar",()=>t.default])},208618,567468,e=>{"use strict";let t;var r=e.i(843209),n=e.i(120601),i=e.i(129e3),s=e.i(214578),a=e.i(702227),l=e.i(349393),u=e.i(191782),o=class extends s.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#r=(0,a.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#n=void 0;#i=void 0;#s=void 0;#a;#l;#r;#t;#u;#o;#c;#d;#h;#f;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#n.addObserver(this),c(this.#n,this.options)?this.#m():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d(this.#n,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d(this.#n,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#g(),this.#n.removeObserver(this)}setOptions(e){let t=this.options,r=this.#n;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,l.resolveEnabled)(this.options.enabled,this.#n))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#n.setOptions(this.options),t._defaulted&&!(0,l.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#n,observer:this});let n=this.hasListeners();n&&h(this.#n,r,this.options,t)&&this.#m(),this.updateResult(),n&&(this.#n!==r||(0,l.resolveEnabled)(this.options.enabled,this.#n)!==(0,l.resolveEnabled)(t.enabled,this.#n)||(0,l.resolveStaleTime)(this.options.staleTime,this.#n)!==(0,l.resolveStaleTime)(t.staleTime,this.#n))&&this.#x();let i=this.#S();n&&(this.#n!==r||(0,l.resolveEnabled)(this.options.enabled,this.#n)!==(0,l.resolveEnabled)(t.enabled,this.#n)||i!==this.#f)&&this.#w(i)}getOptimisticResult(e){var t,r;let n=this.#e.getQueryCache().build(this.#e,e),i=this.createResult(n,e);return t=this,r=i,(0,l.shallowEqualObjects)(t.getCurrentResult(),r)||(this.#s=i,this.#l=this.options,this.#a=this.#n.state),i}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"===r&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#r.status||this.#r.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#n}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#m({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#m(e){this.#b();let t=this.#n.fetch(this.options,e);return e?.throwOnError||(t=t.catch(l.noop)),t}#x(){this.#v();let e=(0,l.resolveStaleTime)(this.options.staleTime,this.#n);if(l.isServer||this.#s.isStale||!(0,l.isValidTimeout)(e))return;let t=(0,l.timeUntilStale)(this.#s.dataUpdatedAt,e);this.#d=u.timeoutManager.setTimeout(()=>{this.#s.isStale||this.updateResult()},t+1)}#S(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#n):this.options.refetchInterval)??!1}#w(e){this.#g(),this.#f=e,!l.isServer&&!1!==(0,l.resolveEnabled)(this.options.enabled,this.#n)&&(0,l.isValidTimeout)(this.#f)&&0!==this.#f&&(this.#h=u.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||r.focusManager.isFocused())&&this.#m()},this.#f))}#y(){this.#x(),this.#w(this.#S())}#v(){this.#d&&(u.timeoutManager.clearTimeout(this.#d),this.#d=void 0)}#g(){this.#h&&(u.timeoutManager.clearInterval(this.#h),this.#h=void 0)}createResult(e,t){let r,n=this.#n,s=this.options,u=this.#s,o=this.#a,d=this.#l,p=e!==n?e.state:this.#i,{state:m}=e,y={...m},v=!1;if(t._optimisticResults){let r=this.hasListeners(),a=!r&&c(e,t),l=r&&h(e,n,t,s);(a||l)&&(y={...y,...(0,i.fetchState)(m.data,e.options)}),"isRestoring"===t._optimisticResults&&(y.fetchStatus="idle")}let{error:g,errorUpdatedAt:b,status:x}=y;r=y.data;let S=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===x){let e;u?.isPlaceholderData&&t.placeholderData===d?.placeholderData?(e=u.data,S=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#c?.state.data,this.#c):t.placeholderData,void 0!==e&&(x="success",r=(0,l.replaceData)(u?.data,e,t),v=!0)}if(t.select&&void 0!==r&&!S)if(u&&r===o?.data&&t.select===this.#u)r=this.#o;else try{this.#u=t.select,r=t.select(r),r=(0,l.replaceData)(u?.data,r,t),this.#o=r,this.#t=null}catch(e){this.#t=e}this.#t&&(g=this.#t,r=this.#o,b=Date.now(),x="error");let w="fetching"===y.fetchStatus,R="pending"===x,M="error"===x,j=R&&w,C=void 0!==r,O={status:x,fetchStatus:y.fetchStatus,isPending:R,isSuccess:"success"===x,isError:M,isInitialLoading:j,isLoading:j,data:r,dataUpdatedAt:y.dataUpdatedAt,error:g,errorUpdatedAt:b,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>p.dataUpdateCount||y.errorUpdateCount>p.errorUpdateCount,isFetching:w,isRefetching:w&&!R,isLoadingError:M&&!C,isPaused:"paused"===y.fetchStatus,isPlaceholderData:v,isRefetchError:M&&C,isStale:f(e,t),refetch:this.refetch,promise:this.#r,isEnabled:!1!==(0,l.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===O.status?e.reject(O.error):void 0!==O.data&&e.resolve(O.data)},r=()=>{t(this.#r=O.promise=(0,a.pendingThenable)())},i=this.#r;switch(i.status){case"pending":e.queryHash===n.queryHash&&t(i);break;case"fulfilled":("error"===O.status||O.data!==i.value)&&r();break;case"rejected":("error"!==O.status||O.error!==i.reason)&&r()}}return O}updateResult(){let e=this.#s,t=this.createResult(this.#n,this.options);if(this.#a=this.#n.state,this.#l=this.options,void 0!==this.#a.data&&(this.#c=this.#n),(0,l.shallowEqualObjects)(t,e))return;this.#s=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#p.size)return!0;let n=new Set(r??this.#p);return this.options.throwOnError&&n.add("error"),Object.keys(this.#s).some(t=>this.#s[t]!==e[t]&&n.has(t))};this.#R({listeners:r()})}#b(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#n)return;let t=this.#n;this.#n=e,this.#i=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#R(e){n.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#n,type:"observerResultsUpdated"})})}};function c(e,t){return!1!==(0,l.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&d(e,t,t.refetchOnMount)}function d(e,t,r){if(!1!==(0,l.resolveEnabled)(t.enabled,e)&&"static"!==(0,l.resolveStaleTime)(t.staleTime,e)){let n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&f(e,t)}return!1}function h(e,t,r,n){return(e!==t||!1===(0,l.resolveEnabled)(n.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&f(e,r)}function f(e,t){return!1!==(0,l.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,l.resolveStaleTime)(t.staleTime,e))}e.s(["QueryObserver",()=>o],208618),e.i(270867);var p=e.i(126377),m=e.i(484822);e.i(149414);var y=p.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),v=p.createContext(!1);v.Provider;var g=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function b(e,t,r){let i=p.useContext(v),s=p.useContext(y),a=(0,m.useQueryClient)(r),u=a.defaultQueryOptions(e);if(a.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=i?"isRestoring":"optimistic",u.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=u.staleTime;u.staleTime="function"==typeof t?(...r)=>e(t(...r)):e(t),"number"==typeof u.gcTime&&(u.gcTime=Math.max(u.gcTime,1e3))}(u.suspense||u.throwOnError||u.experimental_prefetchInRender)&&!s.isReset()&&(u.retryOnMount=!1),p.useEffect(()=>{s.clearReset()},[s]);let o=!a.getQueryCache().get(u.queryHash),[c]=p.useState(()=>new t(a,u)),d=c.getOptimisticResult(u),h=!i&&!1!==e.subscribed;if(p.useSyncExternalStore(p.useCallback(e=>{let t=h?c.subscribe(n.notifyManager.batchCalls(e)):l.noop;return c.updateResult(),t},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(u)},[u,c]),u?.suspense&&d.isPending)throw g(u,c,s);if((({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&void 0===e.data||(0,l.shouldThrowError)(r,[e.error,n])))({result:d,errorResetBoundary:s,throwOnError:u.throwOnError,query:a.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw d.error;if(a.getDefaultOptions().queries?._experimental_afterQuery?.(u,d),u.experimental_prefetchInRender&&!l.isServer&&d.isLoading&&d.isFetching&&!i){let e=o?g(u,c,s):a.getQueryCache().get(u.queryHash)?.promise;e?.catch(l.noop).finally(()=>{c.updateResult()})}return u.notifyOnChangeProps?d:c.trackResult(d)}e.s(["useBaseQuery",()=>b],567468)},624394,e=>{"use strict";var t=e.i(208618),r=e.i(567468);function n(e,n){return(0,r.useBaseQuery)(e,t.QueryObserver,n)}e.s(["useQuery",()=>n])},241787,e=>{"use strict";var t=e.i(126377),r=e.i(503916),n=e.i(120601),i=e.i(214578),s=e.i(349393),a=class extends i.Subscribable{#e;#s=void 0;#M;#j;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#C()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,s.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#M,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,s.hashKey)(t.mutationKey)!==(0,s.hashKey)(this.options.mutationKey)?this.reset():this.#M?.state.status==="pending"&&this.#M.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#M?.removeObserver(this)}onMutationUpdate(e){this.#C(),this.#R(e)}getCurrentResult(){return this.#s}reset(){this.#M?.removeObserver(this),this.#M=void 0,this.#C(),this.#R()}mutate(e,t){return this.#j=t,this.#M?.removeObserver(this),this.#M=this.#e.getMutationCache().build(this.#e,this.options),this.#M.addObserver(this),this.#M.execute(e)}#C(){let e=this.#M?.state??(0,r.getDefaultState)();this.#s={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#R(e){n.notifyManager.batch(()=>{if(this.#j&&this.hasListeners()){let t=this.#s.variables,r=this.#s.context,n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#j.onSuccess?.(e.data,t,r,n),this.#j.onSettled?.(e.data,null,t,r,n)):e?.type==="error"&&(this.#j.onError?.(e.error,t,r,n),this.#j.onSettled?.(void 0,e.error,t,r,n))}this.listeners.forEach(e=>{e(this.#s)})})}},l=e.i(484822);function u(e,r){let i=(0,l.useQueryClient)(r),[u]=t.useState(()=>new a(i,e));t.useEffect(()=>{u.setOptions(e)},[u,e]);let o=t.useSyncExternalStore(t.useCallback(e=>u.subscribe(n.notifyManager.batchCalls(e)),[u]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),c=t.useCallback((e,t)=>{u.mutate(e,t).catch(s.noop)},[u]);if(o.error&&(0,s.shouldThrowError)(u.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:c,mutateAsync:o.mutate}}e.s(["useMutation",()=>u],241787)},326320,e=>{"use strict";async function t(e,t){return t}async function r(e,t,r,n){return t}async function n(e,n){var i;let s=n;t&&(s=await t(e.action,n));let a={"Content-Type":"application/json",...n.headers,...s.headers},l=n.customFetch||s.customFetch||fetch,u={...n.fetchOptions,...s.fetchOptions,method:"POST",headers:a,body:JSON.stringify(e)},o=await l((!(i="/rpc/run").startsWith("/")&&(i=`/${i}`),i),u),c=o.ok?await o.json():null;return(r&&await r(e.action,o,c,s),o.ok)?c:{success:!1,errors:[{type:"network",message:o.statusText,details:{}}]}}async function i(e){return n({action:"list_available_days",input:e.input},e)}async function s(e){return n({action:"list_time_slots",input:e.input,...void 0!==e.fields&&{fields:e.fields}},e)}async function a(e){return n({action:"schedule_my_appointment",input:e.input,...void 0!==e.fields&&{fields:e.fields}},e)}async function l(e){return n({action:"cancel_my_appointment",primaryKey:e.primaryKey,input:e.input,...void 0!==e.fields&&{fields:e.fields}},e)}async function u(e){return n({action:"read_appointments_for_actor",...void 0!==e.fields&&{fields:e.fields},...e.filter&&{filter:e.filter},...e.sort&&{sort:e.sort},...e.page&&{page:e.page}},e)}async function o(e){return n({action:"list_content",input:e.input,...void 0!==e.fields&&{fields:e.fields},...e.filter&&{filter:e.filter},...e.sort&&{sort:e.sort},...e.page&&{page:e.page}},e)}async function c(e){return n({action:"list_courses",input:e.input,...void 0!==e.fields&&{fields:e.fields},...e.filter&&{filter:e.filter},...e.sort&&{sort:e.sort},...e.page&&{page:e.page}},e)}async function d(e){return n({action:"my_measurements",...void 0!==e.fields&&{fields:e.fields},...e.filter&&{filter:e.filter},...e.sort&&{sort:e.sort},...e.page&&{page:e.page}},e)}async function h(e){return n({action:"create_my_measurement",input:e.input,...void 0!==e.fields&&{fields:e.fields}},e)}async function f(e){return n({action:"my_measurements_goals",...void 0!==e.fields&&{fields:e.fields},...e.filter&&{filter:e.filter},...e.sort&&{sort:e.sort},...e.page&&{page:e.page}},e)}async function p(e){return n({action:"create_my_measurement_goal",input:e.input,...void 0!==e.fields&&{fields:e.fields}},e)}e.i(917771),e.s(["cancelMyAppointment",()=>l,"createMyMeasurement",()=>h,"createMyMeasurementGoal",()=>p,"listAvailableDays",()=>i,"listContent",()=>o,"listCourses",()=>c,"listTimeSlots",()=>s,"myMeasurements",()=>d,"myMeasurementsGoals",()=>f,"readAppointmentsForActor",()=>u,"scheduleMyAppointment",()=>a],326320)},196527,e=>{"use strict";e.i(587738);var t=e.i(711648),r=e.i(241787),n=e.i(624394),i=e.i(484822),s=e.i(326320);function a({key:e="appointments",...t}){let{page:r=1,limit:i=5,filter:a,sort:l}=t;return(0,n.useQuery)({queryKey:[e,t],queryFn:async()=>{let e=await (0,s.readAppointmentsForActor)({fields:["id","status","visitAt","length","zoomJoinUrl"],filter:a,sort:l,page:{offset:r?(r-1)*i:0,limit:i,count:!0}});if(!e.success)throw Error((e.errors||[]).map(e=>e.message).join(", "));return e.success?{appointments:e?.data.results||[],...e.data}:null},enabled:t.enabled})}function l({input:e}){return(0,n.useQuery)({queryKey:["availableDays",e],queryFn:async()=>{let t=await (0,s.listAvailableDays)({input:e});if(!t.success)throw Error("Failed to fetch days");return t.success?t.data:[]}})}function u({input:e}){let{data:t,...r}=(0,n.useQuery)({queryKey:["timeSlots",e],queryFn:async()=>{let t=await (0,s.listTimeSlots)({input:e,fields:["startDateTime","appointmentTypeId","length","providerVendorId"]});if(!t.success)throw Error("Failed to fetch days");return t.data??[]}});return{data:Array.from(new Map(t?.map(e=>[e.startDateTime,e])??[]).values()),...r}}function o(){let e=(0,i.useQueryClient)();return(0,r.useMutation)({mutationKey:["cancelAppointment"],onSuccess:()=>{e.invalidateQueries({predicate:e=>(0,t.isInArray)(e.queryKey[0],["upcomingAppointments","appointmentHistory"])})},mutationFn:async({identifiers:e,reason:t="No reason provided"})=>{await Promise.all(e.map(async e=>{if(!(await (0,s.cancelMyAppointment)({primaryKey:e,input:{cancellationReason:t}})).success)throw Error("Failed to cancel appointment")}))}})}function c(e){let n=(0,i.useQueryClient)();return(0,r.useMutation)({mutationKey:["scheduleAppointment"],onSuccess:()=>{n.invalidateQueries({predicate:e=>(0,t.isInArray)(e.queryKey[0],["upcomingAppointments","appointmentHistory"])}),e?.()},mutationFn:async({input:e})=>{let t=await (0,s.scheduleMyAppointment)({input:e,fields:["id","status"]});if(!t.success)throw Error(t.errors.map(e=>e.message).join(", "));return t.success?t.data:null}})}e.s(["useAppointments",()=>a,"useCancelAppointmentMutation",()=>o,"useListAvailableDays",()=>l,"useListTimeSlots",()=>u,"useScheduleAppointmentMutation",()=>c])},408638,e=>{"use strict";var t=e.i(803463),r=(0,t.createServerReference)("7f9287d044f7c52a0028046927f8ecab6e84b45699",t.callServer,void 0,t.findSourceMapURL,"cancelAccount");e.s(["cancelAccount",()=>r])}]);

//# debugId=483cb8ad-4e1f-b7f0-0a43-9afe7920cb56
//# sourceMappingURL=df94cbb83affd7a3.js.map